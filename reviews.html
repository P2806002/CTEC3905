<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Game Reviews - Detailed Reviews</title>
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="css/styles.css">
    <style>
        .rating-input {
            width: 50px;
        }
        .review-form textarea {
            resize: vertical;
        }
    </style>
</head>
<body>
    <header class="bg-dark text-white">
        <nav class="navbar navbar-expand-lg navbar-dark">
            <a class="navbar-brand" href="index.html">Game Reviews</a>
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ml-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="index.html">Home</a>
                    </li>
                    <li class="nav-item active">
                        <a class="nav-link" href="reviews.html">Reviews</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="about.html">About</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="contact.html">Contact</a>
                    </li>
                </ul>
            </div>
        </nav>
    </header>

    <main class="container my-5">
        <h2>Game Reviews</h2>

        <!-- Review section for The Last of Us -->
        <section id="last-of-us">
            <h3>The Last of Us</h3>
            <div class="row my-4">
                <div class="col-md-4">
                    <img src="images/last-of-us.jpg" alt="The Last of Us" class="img-fluid">
                </div>
                <div class="col-md-8">
                    <p>The Last of Us is an action-adventure game developed by Naughty Dog and published by Sony Computer Entertainment. The game is set in a post-apocalyptic world and follows the journey of Joel and Ellie as they navigate through a world filled with dangers both human and infected. The story is gripping, the characters are well-developed, and the gameplay is intense and engaging.</p>
                    <p>With stunning visuals, an emotionally charged narrative, and top-notch voice acting, The Last of Us has received critical acclaim and numerous awards. It's a must-play for any gamer looking for an unforgettable experience.</p>
                </div>
            </div>

            <!-- Review submission form -->
            <div class="review-form">
                <h4>Submit Your Review</h4>
                <label for="rating-last-of-us">Rating (1-5):</label>
                <input type="number" id="rating-last-of-us" class="form-control rating-input" min="1" max="5">
                <textarea id="comment-last-of-us" class="form-control mt-2" rows="3" placeholder="Write your comment..."></textarea>
                <input type="button" id="submit-review-last-of-us" class="btn btn-primary mt-2" value="Submit Review" disabled>
                <div id="rating-summary-last-of-us" class="my-4">
                    <h5>Average Rating: <span id="average-rating-last-of-us">N/A</span></h5>
                    <h6>All Reviews:</h6>
                    <ul id="review-list-last-of-us" class="list-unstyled"></ul>
                </div>
            </div>
        </section>

        <!-- Review section for The Witcher 3 -->
        <section id="witcher3">
            <h3>The Witcher 3: Wild Hunt</h3>
            <div class="row my-4">
                <div class="col-md-4">
                    <img src="images/witcher3.jpg" alt="The Witcher 3: Wild Hunt" class="img-fluid">
                </div>
                <div class="col-md-8">
                    <p>The Witcher 3: Wild Hunt is an open-world role-playing game developed by CD Projekt Red. Set in a stunningly detailed fantasy universe full of meaningful choices and impactful consequences, the game follows the story of Geralt of Rivia, a professional monster hunter, as he searches for his adopted daughter. The Witcher 3 is renowned for its deep narrative, rich world, and complex characters.</p>
                    <p>The game features a vast open world, filled with quests, monsters, and treasures. With its dynamic weather systems, day-night cycles, and a robust combat system, The Witcher 3: Wild Hunt offers an immersive and expansive gameplay experience that has been highly praised by both players and critics alike.</p>
                </div>
            </div>

            <!-- Review submission form -->
            <div class="review-form">
                <h4>Submit Your Review</h4>
                <label for="rating-witcher3">Rating (1-5):</label>
                <input type="number" id="rating-witcher3" class="form-control rating-input" min="1" max="5">
                <textarea id="comment-witcher3" class="form-control mt-2" rows="3" placeholder="Write your comment..."></textarea>
                <input type="button" id="submit-review-witcher3" class="btn btn-primary mt-2" value="Submit Review" disabled>
                <div id="rating-summary-witcher3" class="my-4">
                    <h5>Average Rating: <span id="average-rating-witcher3">N/A</span></h5>
                    <h6>All Reviews:</h6>
                    <ul id="review-list-witcher3" class="list-unstyled"></ul>
                </div>
            </div>
        </section>

        <!-- Review section for Red Dead Redemption 2 -->
        <section id="red-dead-redemption2">
            <h3>Red Dead Redemption 2</h3>
            <div class="row my-4">
                <div class="col-md-4">
                    <img src="images/red-dead-redemption2.jpg" alt="Red Dead Redemption 2" class="img-fluid">
                </div>
                <div class="col-md-8">
                    <p>Red Dead Redemption 2, developed by Rockstar Games, is a sprawling Western set at the end of the 19th century. The game follows Arthur Morgan, a member of the Van der Linde gang, as he navigates the decline of the Wild West. The game is noted for its vast, detailed world, engaging story, and deep character development.</p>
                    <p>With breathtaking visuals, a richly detailed world, and a compelling narrative, Red Dead Redemption 2 is a landmark achievement in open-world gaming. The game offers a mix of story-driven missions and free-form exploration, allowing players to fully immerse themselves in the life of an outlaw.</p>
                </div>
            </div>

            <!-- Review submission form -->
            <div class="review-form">
                <h4>Submit Your Review</h4>
                <label for="rating-red-dead-redemption2">Rating (1-5):</label>
                <input type="number" id="rating-red-dead-redemption2" class="form-control rating-input" min="1" max="5">
                <textarea id="comment-red-dead-redemption2" class="form-control mt-2" rows="3" placeholder="Write your comment..."></textarea>
                <input type="button" id="submit-review-red-dead-redemption2" class="btn btn-primary mt-2" value="Submit Review" disabled>
                <div id="rating-summary-red-dead-redemption2" class="my-4">
                    <h5>Average Rating: <span id="average-rating-red-dead-redemption2">N/A</span></h5>
                    <h6>All Reviews:</h6>
                    <ul id="review-list-red-dead-redemption2" class="list-unstyled"></ul>
                </div>
            </div>
        </section>

    </main>

    <footer class="bg-dark text-white text-center py-3">
        <p>&copy; 2024 Game Reviews. All rights reserved.</p>
    </footer>

    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.3/dist/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const handleReviewSubmission = (gameId) => {
                const ratingInput = document.getElementById(`rating-${gameId}`);
                const commentBox = document.getElementById(`comment-${gameId}`);
                const submitButton = document.getElementById(`submit-review-${gameId}`);
                const reviewList = document.getElementById(`review-list-${gameId}`);
                const averageRatingElem = document.getElementById(`average-rating-${gameId}`);
    
                let selectedRating = 0;
    
                // Function to validate the form
                const validateForm = () => {
                    selectedRating = parseInt(ratingInput.value, 10);
                    const comment = commentBox.value.trim();
    
                    // Enable or disable the submit button
                    submitButton.disabled = selectedRating < 1 || selectedRating > 5 || comment === '';
                    console.log(`Rating: ${selectedRating}, Comment: "${comment}", Button Disabled: ${submitButton.disabled}`);
                };
    
                ratingInput.addEventListener('input', validateForm);
                commentBox.addEventListener('input', validateForm);
    
                submitButton.addEventListener('click', () => {
                    const comment = commentBox.value.trim();
                    if (selectedRating < 1 || selectedRating > 5 || comment === '') {
                        alert('Please enter a valid rating (1-5) and comment.');
                        return;
                    }
    
                    const review = {
                        rating: selectedRating,
                        comment
                    };
    
                    // Display review
                    const reviewItem = document.createElement('li');
                    reviewItem.textContent = `${review.rating} stars: ${review.comment}`;
                    reviewList.appendChild(reviewItem);
    
                    // Reset form
                    ratingInput.value = '';
                    commentBox.value = '';
                    submitButton.disabled = true;
    
                    // Calculate average rating
                    const reviews = Array.from(reviewList.children).map(item => {
                        const [rating] = item.textContent.split(' ');
                        return { rating: parseFloat(rating) };
                    });
                    const totalRating = reviews.reduce((acc, review) => acc + review.rating, 0);
                    const averageRating = reviews.length ? (totalRating / reviews.length).toFixed(1) : 'N/A';
                    averageRatingElem.textContent = averageRating;
                });
            };
    
            // Initialize review forms for each game
            handleReviewSubmission('last-of-us');
            handleReviewSubmission('witcher3');
            handleReviewSubmission('red-dead-redemption2');
        });
    </script>
    
</body>
</html>
